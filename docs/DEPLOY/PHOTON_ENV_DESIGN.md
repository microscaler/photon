# ğŸ” `.env` Design and CLI Integration for Photon

## ğŸ§­ Purpose

To define runtime configuration for both local Kubernetes development (Tilt) and Photon CLI tools using a `.env` file that:

- Is consistent across environments
- Can be generated by `photon` CLI
- Can be selectively loaded per environment

---

## ğŸ“ Example `.env`

```env
PHOTON_ENV=dev
DATABASE_URL=postgres://user:pass@localhost:5432/myapp
AUTH_SECRET=supersecuretoken
API_PORT=3000
UI_PORT=5173
```

---

## ğŸ› ï¸ Generation via CLI

```bash
photon env init
```

- Creates `.env` at project root if not present
- Optionally generates `.env.development`, `.env.production`
- Detects and warns on unsafe values (e.g., hardcoded tokens)

---

## ğŸ”Œ Usage Contexts

| Tool        | Loads from `.env`            |
|-------------|-------------------------------|
| Tilt        | via `env_file` in Tiltfile    |
| Photon CLI  | via `dotenv` crate             |
| Kubernetes  | mounts via `ConfigMap` (local)|
| Frontend    | Vite auto-imports prefixed vars (`VITE_`) |

---

## âœ… Best Practices

- Never commit `.env` to Git â€” include in `.gitignore`
- Use `.env.example` to define required keys
- Secure `.env.production` in CI/CD secrets

---

Would you like to commit this as `docs/DEPLOY/PHOTON_ENV_DESIGN.md` and mark the stack item complete?
